import type { InvokableTool, ToolContext } from './tool.js';
import type { JSONValue } from '../types/json.js';
import { z } from 'zod';
/**
 * Helper type to infer input type from Zod schema or default to never.
 */
type ZodInferred<TInput> = TInput extends z.ZodType ? z.infer<TInput> : never;
/**
 * Configuration for creating a Zod-based tool.
 *
 * @typeParam TInput - Zod schema type for input validation
 * @typeParam TReturn - Return type of the callback function
 */
export interface ToolConfig<TInput extends z.ZodType | undefined, TReturn extends JSONValue = JSONValue> {
    /** The name of the tool */
    name: string;
    /** A description of what the tool does (optional) */
    description?: string;
    /**
     * Zod schema for input validation and JSON schema generation.
     * If omitted or z.void(), the tool takes no input parameters.
     */
    inputSchema?: TInput;
    /**
     * Callback function that implements the tool's functionality.
     *
     * @param input - Validated input matching the Zod schema
     * @param context - Optional execution context
     * @returns The result (can be a value, Promise, or AsyncGenerator)
     */
    callback: (input: ZodInferred<TInput>, context?: ToolContext) => AsyncGenerator<unknown, TReturn, never> | Promise<TReturn> | TReturn;
}
/**
 * Creates an InvokableTool from a Zod schema and callback function.
 *
 * The tool() function validates input against the schema and generates JSON schema
 * for model providers using Zod v4's built-in z.toJSONSchema() method.
 *
 * @example
 * ```typescript
 * import { tool } from '@strands-agents/sdk'
 * import { z } from 'zod'
 *
 * // Tool with input parameters
 * const calculator = tool({
 *   name: 'calculator',
 *   description: 'Performs basic arithmetic',
 *   inputSchema: z.object({
 *     operation: z.enum(['add', 'subtract', 'multiply', 'divide']),
 *     a: z.number(),
 *     b: z.number()
 *   }),
 *   callback: (input) => {
 *     switch (input.operation) {
 *       case 'add': return input.a + input.b
 *       case 'subtract': return input.a - input.b
 *       case 'multiply': return input.a * input.b
 *       case 'divide': return input.a / input.b
 *     }
 *   }
 * })
 *
 * // Tool without input (omit inputSchema)
 * const getStatus = tool({
 *   name: 'getStatus',
 *   description: 'Gets system status',
 *   callback: () => ({ status: 'operational', uptime: 99.9 })
 * })
 *
 * // Direct invocation
 * const result = await calculator.invoke({ operation: 'add', a: 5, b: 3 })
 *
 * // Agent usage
 * for await (const event of calculator.stream(context)) {
 *   console.log(event)
 * }
 * ```
 *
 * @typeParam TInput - Zod schema type for input validation
 * @typeParam TReturn - Return type of the callback function
 * @param config - Tool configuration
 * @returns An InvokableTool that implements the Tool interface with invoke() method
 */
export declare function tool<TInput extends z.ZodType | undefined, TReturn extends JSONValue = JSONValue>(config: ToolConfig<TInput, TReturn>): InvokableTool<ZodInferred<TInput>, TReturn>;
export {};
//# sourceMappingURL=zod-tool.d.ts.map