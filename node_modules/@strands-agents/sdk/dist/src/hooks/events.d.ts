import type { AgentData } from '../types/agent.js';
import type { ContentBlock, Message, ToolResultBlock } from '../types/messages.js';
import type { Tool } from '../tools/tool.js';
import type { JSONValue } from '../types/json.js';
import type { ModelStreamEvent } from '../models/streaming.js';
/**
 * Base class for all hook events.
 * Hook events are emitted at specific points in the agent lifecycle.
 */
export declare abstract class HookEvent {
    /**
     * @internal
     * Check if callbacks should be reversed for this event.
     * Used by HookRegistry for callback ordering.
     */
    _shouldReverseCallbacks(): boolean;
}
/**
 * Event triggered at the beginning of a new agent request.
 * Fired before any model inference or tool execution occurs.
 */
export declare class BeforeInvocationEvent extends HookEvent {
    readonly type: "beforeInvocationEvent";
    readonly agent: AgentData;
    constructor(data: {
        agent: AgentData;
    });
}
/**
 * Event triggered at the end of an agent request.
 * Fired after all processing completes, regardless of success or error.
 * Uses reverse callback ordering for proper cleanup semantics.
 */
export declare class AfterInvocationEvent extends HookEvent {
    readonly type: "afterInvocationEvent";
    readonly agent: AgentData;
    constructor(data: {
        agent: AgentData;
    });
    _shouldReverseCallbacks(): boolean;
}
/**
 * Event triggered when the framework adds a message to the conversation history.
 * Fired during the agent loop execution for framework-generated messages.
 * Does not fire for initial messages from AgentConfig or user input messages.
 */
export declare class MessageAddedEvent extends HookEvent {
    readonly type: "messageAddedEvent";
    readonly agent: AgentData;
    readonly message: Message;
    constructor(data: {
        agent: AgentData;
        message: Message;
    });
}
/**
 * Event triggered just before a tool is executed.
 * Fired after tool lookup but before execution begins.
 */
export declare class BeforeToolCallEvent extends HookEvent {
    readonly type: "beforeToolCallEvent";
    readonly agent: AgentData;
    readonly toolUse: {
        name: string;
        toolUseId: string;
        input: JSONValue;
    };
    readonly tool: Tool | undefined;
    constructor(data: {
        agent: AgentData;
        toolUse: {
            name: string;
            toolUseId: string;
            input: JSONValue;
        };
        tool: Tool | undefined;
    });
}
/**
 * Event triggered after a tool execution completes.
 * Fired after tool execution finishes, whether successful or failed.
 * Uses reverse callback ordering for proper cleanup semantics.
 */
export declare class AfterToolCallEvent extends HookEvent {
    readonly type: "afterToolCallEvent";
    readonly agent: AgentData;
    readonly toolUse: {
        name: string;
        toolUseId: string;
        input: JSONValue;
    };
    readonly tool: Tool | undefined;
    readonly result: ToolResultBlock;
    readonly error?: Error;
    constructor(data: {
        agent: AgentData;
        toolUse: {
            name: string;
            toolUseId: string;
            input: JSONValue;
        };
        tool: Tool | undefined;
        result: ToolResultBlock;
        error?: Error;
    });
    _shouldReverseCallbacks(): boolean;
}
/**
 * Event triggered just before the model is invoked.
 * Fired before sending messages to the model for inference.
 */
export declare class BeforeModelCallEvent extends HookEvent {
    readonly type: "beforeModelCallEvent";
    readonly agent: AgentData;
    constructor(data: {
        agent: AgentData;
    });
}
/**
 * Response from a model invocation containing the message and stop reason.
 */
export interface ModelStopData {
    /**
     * The message returned by the model.
     */
    readonly message: Message;
    /**
     * The reason the model stopped generating.
     */
    readonly stopReason: string;
}
/**
 * Event triggered after the model invocation completes.
 * Fired after the model finishes generating a response, whether successful or failed.
 * Uses reverse callback ordering for proper cleanup semantics.
 *
 * Note: stopData may be undefined if an error occurs before the model completes.
 */
export declare class AfterModelCallEvent extends HookEvent {
    readonly type: "afterModelCallEvent";
    readonly agent: AgentData;
    readonly stopData?: ModelStopData;
    readonly error?: Error;
    /**
     * Optional flag that can be set by hook callbacks to request a retry of the model call.
     * Only valid when an error is present. When set to true, the agent will retry the model invocation.
     * Typically used after reducing context size in response to a ContextWindowOverflowError.
     */
    retryModelCall?: boolean;
    constructor(data: {
        agent: AgentData;
        stopData?: ModelStopData;
        error?: Error;
    });
    _shouldReverseCallbacks(): boolean;
}
/**
 * Event triggered for each streaming event from the model.
 * Allows hooks to observe individual streaming events during model inference.
 * Provides read-only access to streaming events.
 *
 * Currently private pending https://github.com/strands-agents/sdk-typescript/issues/288
 */
export declare class ModelStreamEventHook extends HookEvent {
    readonly type: "modelStreamEventHook";
    readonly agent: AgentData;
    readonly event: ModelStreamEvent | ContentBlock;
    constructor(data: {
        agent: AgentData;
        event: ModelStreamEvent | ContentBlock;
    });
}
/**
 * Event triggered before executing tools.
 * Fired when the model returns tool use blocks that need to be executed.
 */
export declare class BeforeToolsEvent extends HookEvent {
    readonly type: "beforeToolsEvent";
    readonly agent: AgentData;
    readonly message: Message;
    constructor(data: {
        agent: AgentData;
        message: Message;
    });
}
/**
 * Event triggered after all tools complete execution.
 * Fired after tool results are collected and ready to be added to conversation.
 * Uses reverse callback ordering for proper cleanup semantics.
 */
export declare class AfterToolsEvent extends HookEvent {
    readonly type: "afterToolsEvent";
    readonly agent: AgentData;
    readonly message: Message;
    constructor(data: {
        agent: AgentData;
        message: Message;
    });
    _shouldReverseCallbacks(): boolean;
}
//# sourceMappingURL=events.d.ts.map