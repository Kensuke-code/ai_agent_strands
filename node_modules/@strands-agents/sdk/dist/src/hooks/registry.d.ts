import type { HookEvent } from './events.js';
import type { HookCallback, HookProvider, HookEventConstructor, HookCleanup } from './types.js';
/**
 * Interface for hook registry operations.
 * Enables registration of hook callbacks for event-driven extensibility.
 */
export interface HookRegistry {
    /**
     * Register a callback function for a specific event type.
     *
     * @param eventType - The event class constructor to register the callback for
     * @param callback - The callback function to invoke when the event occurs
     * @returns Cleanup function that removes the callback when invoked
     */
    addCallback<T extends HookEvent>(eventType: HookEventConstructor<T>, callback: HookCallback<T>): HookCleanup;
    /**
     * Register all callbacks from a hook provider.
     *
     * @param provider - The hook provider to register
     */
    addHook(provider: HookProvider): void;
    /**
     * Remove all callbacks registered by a hook provider.
     *
     * @param provider - The hook provider to remove
     */
    removeHook(provider: HookProvider): void;
}
/**
 * Implementation of the hook registry for managing hook callbacks.
 * Maintains mappings between event types and callback functions.
 */
export declare class HookRegistryImplementation implements HookRegistry {
    private readonly _callbacks;
    private _currentProvider;
    constructor();
    /**
     * Register a callback function for a specific event type.
     *
     * @param eventType - The event class constructor to register the callback for
     * @param callback - The callback function to invoke when the event occurs
     * @returns Cleanup function that removes the callback when invoked
     */
    addCallback<T extends HookEvent>(eventType: HookEventConstructor<T>, callback: HookCallback<T>): HookCleanup;
    /**
     * Register all callbacks from a hook provider.
     *
     * @param provider - The hook provider to register
     */
    addHook(provider: HookProvider): void;
    /**
     * Register all callbacks from multiple hook providers.
     *
     * @param providers - Array of hook providers to register
     */
    addAllHooks(providers: HookProvider[]): void;
    /**
     * Remove all callbacks registered by a hook provider.
     *
     * @param provider - The hook provider to remove
     */
    removeHook(provider: HookProvider): void;
    /**
     * Invoke all registered callbacks for the given event.
     * Awaits each callback, supporting both sync and async.
     *
     * @param event - The event to invoke callbacks for
     * @returns The event after all callbacks have been invoked
     */
    invokeCallbacks<T extends HookEvent>(event: T): Promise<T>;
    /**
     * Get callbacks for a specific event with proper ordering.
     * Returns callbacks in reverse order if event should reverse callbacks.
     *
     * @param event - The event to get callbacks for
     * @returns Array of callbacks for the event
     */
    private getCallbacksFor;
}
//# sourceMappingURL=registry.d.ts.map